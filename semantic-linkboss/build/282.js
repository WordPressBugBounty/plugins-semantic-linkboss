"use strict";(globalThis.webpackChunksemantic_linkboss=globalThis.webpackChunksemantic_linkboss||[]).push([[282],{1282:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var r=a(1609),o=a(7723),s=a(982),n=a(6188);const l=()=>{const[e,t]=(0,r.useState)("category"),[a,l]=(0,r.useState)(""),[c,i]=(0,r.useState)([]),[d,g]=(0,r.useState)(""),[b,m]=(0,r.useState)([]),[u,y]=(0,r.useState)(!0),[k,x]=(0,r.useState)(!1),[h,_]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[w,E]=(0,r.useState)([]),[v,L]=(0,r.useState)(""),[N,C]=(0,r.useState)([]),[R,S]=(0,r.useState)(!0),[j,U]=(0,r.useState)(!1),[T,P]=(0,r.useState)(""),[F,A]=(0,r.useState)(!1),B=(0,r.useCallback)((async()=>{y(!0),_("");try{const e=await fetch(LinkBossConfig.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"linkboss_get_categories",_ajax_nonce:LinkBossAjax.ajax_nonce})}),t=await e.json();t.success?i(t.data):_(t.data?.message||(0,o.__)("Failed to load categories.","semantic-linkboss"))}catch(e){console.error("Error fetching categories:",e),_((0,o.__)("An error occurred while fetching categories.","semantic-linkboss"))}finally{y(!1)}}),[]),O=(0,r.useCallback)((async()=>{S(!0),P("");try{const e=await fetch(LinkBossConfig.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"linkboss_get_tags",_ajax_nonce:LinkBossAjax.ajax_nonce})}),t=await e.json();t.success?E(t.data):P(t.data?.message||(0,o.__)("Failed to load tags.","semantic-linkboss"))}catch(e){console.error("Error fetching tags:",e),P((0,o.__)("An error occurred while fetching tags.","semantic-linkboss"))}finally{S(!1)}}),[]);(0,r.useEffect)((()=>{B(),O()}),[B,O]);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900 rounded-t-xl"},(0,r.createElement)("div",{className:"pb-2"},(0,r.createElement)("h4",{className:"text-xl font-semibold text-slate-800 dark:text-white"},(0,o.__)("URL Extractor","semantic-linkboss")),(0,r.createElement)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400"},(0,o.__)("Extract the content URLs from a category or tag.","semantic-linkboss")))),(0,r.createElement)("div",{className:"p-4 bg-white border border-gray-200 rounded-b-lg shadow-sm dark:bg-gray-900 dark:border-gray-900"},(0,r.createElement)("div",{className:"mb-4 border-b border-gray-200 dark:border-gray-700"},(0,r.createElement)("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400"},(0,r.createElement)("li",{className:"me-2"},(0,r.createElement)("button",{onClick:()=>t("category"),className:"inline-block p-4 rounded-t-lg "+("category"===e?"text-blue-600 dark:text-blue-500 bg-gray-50 dark:bg-gray-800":"hover:text-gray-600 dark:hover:text-gray-300")},(0,o.__)("Post URL Extractor by Category","semantic-linkboss"))),(0,r.createElement)("li",{className:"me-2"},(0,r.createElement)("button",{onClick:()=>t("tag"),className:"inline-block p-4 rounded-t-lg "+("tag"===e?"text-blue-600 dark:text-blue-500 bg-gray-50 dark:bg-gray-800":"hover:text-gray-600 dark:hover:text-gray-300")},(0,o.__)("Post URL Extractor by Tag","semantic-linkboss"))))),a&&(0,r.createElement)("p",{className:"text-red-500 text-sm mb-4"},a),(0,r.createElement)("div",null,"category"===e&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"mb-4"},(0,r.createElement)("label",{htmlFor:"category-select",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},(0,o.__)("Select Category:","semantic-linkboss")),(0,r.createElement)("select",{id:"category-select",value:d,onChange:e=>{g(e.target.value),m([]),_(""),p(!1)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:u||k},(0,r.createElement)("option",{value:""},u?(0,o.__)("Loading Categories...","semantic-linkboss"):(0,o.__)("-- Select a Category --","semantic-linkboss")),!u&&c.map((e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name)))),h&&!u&&(0,r.createElement)("p",{className:"text-red-500 text-sm mt-1"},h)),(0,r.createElement)("button",{type:"button",onClick:async()=>{if(d){x(!0),_(""),m([]),p(!1);try{const e=await fetch(LinkBossConfig.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"linkboss_get_category_post_urls",_ajax_nonce:LinkBossAjax.ajax_nonce,category_id:d})}),t=await e.json();t.success?(m(t.data),0===t.data.length&&_((0,o.__)("No published posts found in this category.","semantic-linkboss"))):_(t.data?.message||(0,o.__)("Failed to extract category URLs.","semantic-linkboss"))}catch(e){console.error("Error extracting category URLs:",e),_((0,o.__)("An error occurred while extracting category URLs.","semantic-linkboss"))}finally{x(!1)}}},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 disabled:opacity-50",disabled:!d||k||u},k?(0,o.__)("Extracting...","semantic-linkboss"):(0,o.__)("Extract URLs","semantic-linkboss")),h&&0===b.length&&(0,r.createElement)("p",{className:"text-red-500 text-sm mt-2"},h)),b.length>0&&(0,r.createElement)("div",{className:"mt-6"},(0,r.createElement)("h3",{className:"text-lg font-medium mb-2 dark:text-white"},(0,o.__)("Extracted URLs:","semantic-linkboss")),(0,r.createElement)("textarea",{readOnly:!0,value:b.join("\n"),rows:"10",className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 mb-2"}),(0,r.createElement)("button",{type:"button",onClick:()=>{b.length>0&&navigator.clipboard.writeText(b.join("\n")).then((()=>{p(!0),setTimeout((()=>p(!1)),2e3)})).catch((e=>{console.error("Failed to copy category URLs: ",e),l((0,o.__)("Failed to copy URLs to clipboard.","semantic-linkboss"))}))},className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},(0,r.createElement)(s.g,{icon:n.jPR,className:"mr-2"}),f?(0,o.__)("Copied!","semantic-linkboss"):(0,o.__)("Copy URLs","semantic-linkboss")),(0,r.createElement)("button",{type:"button",onClick:()=>{if(b.length>0){const e="URL\n"+b.join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(void 0!==a.download){const e=URL.createObjectURL(t);a.setAttribute("href",e),a.setAttribute("download","category_extracted_urls.csv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}else l((0,o.__)("CSV export is not supported in your browser.","semantic-linkboss"))}},className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},(0,r.createElement)(s.g,{icon:n.cbP,className:"mr-2"}),(0,o.__)("Export as CSV","semantic-linkboss")))),"tag"===e&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"mb-4"},(0,r.createElement)("label",{htmlFor:"tag-select",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},(0,o.__)("Select Tag:","semantic-linkboss")),(0,r.createElement)("select",{id:"tag-select",value:v,onChange:e=>{L(e.target.value),C([]),P(""),A(!1)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:R||j},(0,r.createElement)("option",{value:""},R?(0,o.__)("Loading Tags...","semantic-linkboss"):(0,o.__)("-- Select a Tag --","semantic-linkboss")),!R&&w.map((e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name)))),T&&!R&&(0,r.createElement)("p",{className:"text-red-500 text-sm mt-1"},T)),(0,r.createElement)("button",{type:"button",onClick:async()=>{if(v){U(!0),P(""),C([]),A(!1);try{const e=await fetch(LinkBossConfig.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"linkboss_get_tag_post_urls",_ajax_nonce:LinkBossAjax.ajax_nonce,tag_id:v})}),t=await e.json();t.success?(C(t.data),0===t.data.length&&P((0,o.__)("No published posts found with this tag.","semantic-linkboss"))):P(t.data?.message||(0,o.__)("Failed to extract tag URLs.","semantic-linkboss"))}catch(e){console.error("Error extracting tag URLs:",e),P((0,o.__)("An error occurred while extracting tag URLs.","semantic-linkboss"))}finally{U(!1)}}},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 disabled:opacity-50",disabled:!v||j||R},j?(0,o.__)("Extracting...","semantic-linkboss"):(0,o.__)("Extract URLs","semantic-linkboss")),T&&0===N.length&&(0,r.createElement)("p",{className:"text-red-500 text-sm mt-2"},T)),N.length>0&&(0,r.createElement)("div",{className:"mt-6"},(0,r.createElement)("h3",{className:"text-lg font-medium mb-2 dark:text-white"},(0,o.__)("Extracted URLs:","semantic-linkboss")),(0,r.createElement)("textarea",{readOnly:!0,value:N.join("\n"),rows:"10",className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 mb-2"}),(0,r.createElement)("button",{type:"button",onClick:()=>{N.length>0&&navigator.clipboard.writeText(N.join("\n")).then((()=>{A(!0),setTimeout((()=>A(!1)),2e3)})).catch((e=>{console.error("Failed to copy tag URLs: ",e),l((0,o.__)("Failed to copy URLs to clipboard.","semantic-linkboss"))}))},className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},(0,r.createElement)(s.g,{icon:n.jPR,className:"mr-2"}),F?(0,o.__)("Copied!","semantic-linkboss"):(0,o.__)("Copy URLs","semantic-linkboss")),(0,r.createElement)("button",{type:"button",onClick:()=>{if(N.length>0){const e="URL\n"+N.join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(void 0!==a.download){const e=URL.createObjectURL(t);a.setAttribute("href",e),a.setAttribute("download","tag_extracted_urls.csv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}else l((0,o.__)("CSV export is not supported in your browser.","semantic-linkboss"))}},className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},(0,r.createElement)(s.g,{icon:n.cbP,className:"mr-2"}),(0,o.__)("Export as CSV","semantic-linkboss")))))))}}}]);